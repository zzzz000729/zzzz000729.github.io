(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3554fbf1"],{"0f2e":function(t,e,i){},4631:function(t,e,i){"use strict";i("0f2e")},"8fb5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("van-nav-bar",{attrs:{title:"课程详情","left-arrow":""},on:{"click-left":t.goBack},scopedSlots:t._u([{key:"right",fn:function(){return[i("van-icon",{attrs:{name:"cluster-o",size:"18"}})]},proxy:!0}])}),i("div",{staticClass:"logo"},[i("img",{attrs:{src:t.info.cover_img,alt:""}})]),i("div",{staticClass:"info"},[i("van-icon",{staticClass:"star",attrs:{name:"star",size:"20",color:t.info.is_collect?"red":""},on:{click:t.collect}}),i("p",{staticStyle:{width:"90%","font-size":"0.4rem"}},[t._v(t._s(t.info.title))]),t.info.price<1?i("div",{staticStyle:{color:"#eb6100","font-size":"0.45rem",margin:"2vh 0"}},[t._v("免费")]):i("div",{staticStyle:{color:"red","font-size":"0.45rem",margin:"2vh 0"}},[i("van-icon",{attrs:{name:"points",color:"#FFAE01",size:"16"}}),t._v(t._s(t.info.price/100+".00")+" ")],1),i("p",{staticStyle:{color:"gray","font-size":"0.4rem"}},[t._v("共"+t._s(t.info.total_periods)+"课时 | "+t._s(t.info.sales_num)+"人已报名")])],1),i("div",{staticClass:"team"},[i("p",{staticStyle:{"font-size":"0.4rem"}},[t._v("教学团队")]),i("div",{staticClass:"teach"},t._l(t.teachers,(function(e){return i("div",{key:e.teacher_id},[i("img",{attrs:{src:e.avatar,alt:""}}),i("p",{staticStyle:{"font-size":"0.35rem"}},[t._v(t._s(e.teacher_name))])])})),0)]),i("van-tabs",{ref:"tabs",on:{click:t.top},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"课程介绍"}},[i("div",{staticClass:"introduce",staticStyle:{height:"auto"}},[i("div",{staticStyle:{"font-size":"0.38rem"},domProps:{innerHTML:t._s(t.info.course_details)}})])]),i("van-tab",{attrs:{title:"课程大纲"}},[i("div",{staticClass:"outline",staticStyle:{height:"auto"}},[i("div",{staticStyle:{color:"red"}},[t._v(t._s(t.info.title))])])]),i("van-tab",{attrs:{title:"课程评论"}},[i("div",{staticClass:"comment"},t._l(t.comment,(function(e){return i("div",{key:e.id,staticClass:"comment_list"},[i("div",{staticClass:"head"},[i("img",{attrs:{src:e.avatar,alt:""}})]),i("div",{staticClass:"content"},[i("p",{staticStyle:{"font-size":"0.4rem"}},[t._v(" "+t._s(e.nickname)),i("van-rate",{attrs:{readonly:"",size:"14",gutter:"1"},model:{value:e.grade,callback:function(i){t.$set(e,"grade",i)},expression:"item.grade"}})],1),i("p",{staticStyle:{color:"gray"}},[t._v(t._s(e.content))])]),i("div",{staticClass:"time",staticStyle:{color:"gray"}},[t._v(t._s(t._f("formatTime")(e.created_at)))])])})),0)])],1),t.info.is_join_study?i("van-button",{staticClass:"apply",attrs:{type:"primary",block:"",color:"#E60012",round:""},on:{click:t.buy}},[t._v(" 立即购买")]):i("van-button",{staticClass:"apply",attrs:{type:"primary",block:"",color:"#E60012",round:""},on:{click:t.apply}},[t._v(" 立即报名")])],1)},s=[],o=(i("a9e3"),i("e7e5"),i("d399")),n={filters:{formatTime:function(t){if(!t)return"";var e=new Date(1e3*t),i=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),o=e.getHours(),n=e.getMinutes();return a<10&&(a="0"+a),s<10&&(s="0"+s),o<10&&(o="0"+o),n<10&&(n="0"+n),i+"-"+a+"-"+s+" "+o+":"+n}},data:function(){return{info:{},teachers:[],pagesize:10,pagenum:1,comment:[],loading:!1,finished:!1,value:3,active:0}},mounted:function(){var t=this;this.$http.coursedetail(this.$route.query.id).then((function(e){t.info=e.data.data.info,t.teachers=e.data.data.teachers})),this.$http.coursecomment({id:this.$route.query.id,limit:this.pagesize,page:this.pagenum}).then((function(e){t.comment=e.data.data.list}))},methods:{goBack:function(){this.$router.go(-1)},onLoad:function(){},apply:function(){var t=this;this.$http.courseapply(this.info.id,this.info.course_type).then((function(e){Object(o["a"])("报名成功"),t.info.is_join_study=!0}))},buy:function(){this.$router.push({path:"/order",query:{info:this.info}})},top:function(){document.body.scrollTop=0},collect:function(){this.info.is_collect?(Object(o["a"])("取消收藏"),this.$http.cancelshare(Number(this.$route.query.id)),this.info.is_collect=!1):(Object(o["a"])("收藏成功"),this.$http.coursecollect({id:Number(this.$route.query.id),type:1}),this.info.is_collect=!0)}}},c=n,r=(i("4631"),i("2877")),l=Object(r["a"])(c,a,s,!1,null,"2195fce2",null);e["default"]=l.exports}}]);